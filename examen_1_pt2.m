pkg load symbolic

% t1 = sym('t1'); 
% t2 = sym('t2');

t1 = -5.75;
t2 = -109.11;

% t1 = input('Theta 1 = ');
% t2 = input('Theta 2 = ');

t1 = (pi/180) * t1;
t2 = (pi/180) * t2;


Tg0 = [[      1,       0,    0,    0];
       [      0,       1,    0,    0];
       [      0,       0,    1, -100];
       [      0,       0,    0,    1]];

T01 = [[cos(t1), -sin(t1),   0,    0];
       [sin(t1),  cos(t1),   0,    0];
       [      0,       0,    1,    0];
       [      0,       0,    0,    1]];

T12 = [[      1,       0,    0,   37];
       [      0,       1,    0,    0];
       [      0,       0,    1,    0];
       [      0,       0,    0,    1]];

T23 = [[cos(t2), -sin(t2),   0,    0];
       [sin(t2),  cos(t2),   0,    0];
       [      0,       0,    1,    0];
       [      0,       0,    0,    1]];

T3p = [[      1,       0,    0,   40];
       [      0,       1,    0,    0];
       [      0,       0,    1,    0];
       [      0,       0,    0,    1]];

Tgp = Tg0 * T01 * T12 * T23 * T3p;

x1 = Tgp(1,4);
y1 = Tgp(2,4);
z1 = Tgp(3,4);

% Tgp = [[-sin(t1)*sin(t2) + cos(t1)*cos(t2),       -sin(t1)*cos(t2) - sin(t2)*cos(t1),     0,          -40*sin(t1)*sin(t2) + 40*cos(t1)*cos(t2) + 37*cos(t1)];
%        [ sin(t1)*cos(t2) + sin(t2)*cos(t1),       -sin(t1)*sin(t2) + cos(t1)*cos(t2),     0,           40*sin(t1)*cos(t2) + 37*sin(t1) + 40*sin(t2)*cos(t1)];
%        [                                 0,                                        0,     1,                                                           -100];
%        [                                 0,                                        0,     0,                                                              1]];

% save out.txt Tgp;

Tgc = [[      1,       0,    0,    0];
       [      0,       1,    0,  -20];
       [      0,       0,    1,    0];
       [      0,       0,    0,    1]];
      
Tcp = [[      1,       0,    0,    20];
       [      0,       1,    0,   -20];
       [      0,       0,    1   -100];
       [      0,       0,    0,     1]];

Tgp2 = Tgc * Tcp;

% Tgp2 = [[      1,       0,    0,    20];
%         [      0,       1,    0,   -40];
%         [      0,       0,    1   -100];
%         [      0,       0,    0,     1]];

x2 = Tgp2(1,4);
y2 = Tgp2(2,4);
z2 = Tgp2(3,4);

%  20 = -40*sin(t1)*sin(t2) + 40*cos(t1)*cos(t2) + 37*cos(t1)
% -40 =  40*sin(t1)*cos(t2) + 37*sin(t1) + 40*sin(t2)*cos(t1)
% -100 = -100